{"name": "test_delete_user", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка удаления пользователя\nassert 404 == 200\n +  where 404 = <Response [404]>.status_code", "trace": "@pytest.fixture\n    def test_user():\n        \"\"\"Фикстура для создания тестового пользователя\"\"\"\n        with allure.step(\"Подготовка тестовых данных\"):\n            load_dotenv(ENV_FILE)\n            base_url = os.getenv(\"API_URL\")\n            token = os.getenv(\"TOKEN_ID\")\n    \n            assert base_url is not None, \"API_URL не найден в .env файле\"\n            assert token is not None, \"TOKEN_ID не найден в .env файле\"\n    \n            rand_str = ''.join(random.choices(string.ascii_lowercase, k=5))\n            user_data = {\n                \"fio\": f\"Test User {rand_str}\",\n                \"login\": f\"test_{rand_str}\",\n                \"password\": \"TestPass123\",\n                \"mail\": f\"test.{rand_str}@example.com\",\n                \"phone\": f\"79{random.randint(1000000, 9999999)}\",\n                \"role_id\": 1,\n                \"tenant_id\": 123,\n                \"is_manager\": 1\n            }\n    \n            allure.attach(\n                json.dumps(user_data, indent=2),\n                name=\"User Data\",\n                attachment_type=allure.attachment_type.JSON\n            )\n    \n        with allure.step(\"Создание пользователя\"):\n            response = requests.post(\n                f\"{base_url}/api/v1/user\",\n                headers={\n                    \"accept\": \"application/json\",\n                    \"content-type\": \"application/json\",\n                    \"tockenid\": token\n                },\n                json=user_data\n            )\n    \n            log_curl(response.request, response)\n            assert response.status_code == 200, f\"Ошибка создания пользователя: {response.text}\"\n    \n            user_id = response.json()[\"id\"]\n            allure.attach(\n                f\"Создан пользователь с ID: {user_id}\",\n                name=\"User ID\",\n                attachment_type=allure.attachment_type.TEXT\n            )\n    \n            yield user_id\n    \n        with allure.step(\"Удаление пользователя (teardown)\"):\n            del_response = requests.delete(\n                f\"{base_url}/api/v1/user/{user_id}\",\n                headers={\"tockenid\": token}\n            )\n            log_curl(del_response.request, del_response)\n>           assert del_response.status_code == 200, \"Ошибка удаления пользователя\"\nE           AssertionError: Ошибка удаления пользователя\nE           assert 404 == 200\nE            +  where 404 = <Response [404]>.status_code\n\ntests\\user\\test_user_crud.py:117: AssertionError"}, "description": "DELETE Удаление пользователя /api/v1/user/(id)", "steps": [{"name": "Подготовка данных", "status": "passed", "start": 1752687509383, "stop": 1752687509386}, {"name": "Отправка DELETE запроса", "status": "passed", "steps": [{"name": "Детали запроса", "status": "passed", "attachments": [{"name": "Request Details", "source": "89d12c66-9990-4351-85fe-e73489814878-attachment.txt", "type": "text/plain"}, {"name": "cURL Command", "source": "2c76d670-54c2-41ff-affe-378c2d483997-attachment.txt", "type": "text/plain"}], "start": 1752687509678, "stop": 1752687509680}, {"name": "Детали ответа", "status": "passed", "attachments": [{"name": "Response Details", "source": "c2c9632a-b78c-45a8-8502-8dc0c46d37cf-attachment.txt", "type": "text/plain"}], "start": 1752687509680, "stop": 1752687509681}], "start": 1752687509386, "stop": 1752687509681}, {"name": "Проверка удаления пользователя", "status": "passed", "steps": [{"name": "Детали запроса", "status": "passed", "attachments": [{"name": "Request Details", "source": "c330632b-11f7-4459-b3c5-377b147f51ac-attachment.txt", "type": "text/plain"}, {"name": "cURL Command", "source": "edc91f18-406d-48da-90d0-99ed44c142a8-attachment.txt", "type": "text/plain"}], "start": 1752687509972, "stop": 1752687509974}, {"name": "Детали ответа", "status": "passed", "attachments": [{"name": "Response Details", "source": "ac02170e-177f-4004-a0cf-1e9d83d4af5e-attachment.txt", "type": "text/plain"}], "start": 1752687509975, "stop": 1752687509976}], "attachments": [{"name": "Deletion Verification", "source": "cd774dd1-4598-424b-8119-290c977a668e-attachment.txt", "type": "text/plain"}], "start": 1752687509681, "stop": 1752687509977}], "start": 1752687509383, "stop": 1752687509977, "uuid": "c9ecb3fb-1fbc-4725-8bc1-816b52a8793d", "historyId": "8e42fdd764e2b97dc9f624d1131b607e", "testCaseId": "8e42fdd764e2b97dc9f624d1131b607e", "fullName": "tests.user.test_user_crud#test_delete_user", "labels": [{"name": "feature", "value": "User Management"}, {"name": "story", "value": "DELETE User"}, {"name": "parentSuite", "value": "tests.user"}, {"name": "suite", "value": "test_user_crud"}, {"name": "host", "value": "Lapochka"}, {"name": "thread", "value": "6492-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.user.test_user_crud"}]}